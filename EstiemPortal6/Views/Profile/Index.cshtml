@model EstiemPortal6.ViewModels.ProfileViewModel

<h2>@Model.Name</h2>


<div class="myprofile">
    <div class="col-sm-6">
        <img src="@Url.Content("https://www.estiem.org/userimage.aspx?id=" + @Model.UserId)" />
    </div>


    <div class="col-sm-6">
        <ul>

            <li>
                Birthday:
                @(@Model.BirthDay.HasValue ? Model.BirthDay.Value.ToString("dd.MM.yyyy") : string.Empty)
            </li>

            <li>
                Local Group:
                @Model.LocalGroup
            </li>

            <li>
                Mobile Phone:
            </li>

            <li>
                Facebook:
            </li>

            <li>
                Skype:
            </li>
            <li>
                Snapchat:
            </li>
            <li>
                Instagram:
            </li>
        </ul>
    </div>
</div>
<div>
    <table id="eventstable">
        <thead>
            <tr>
                <th>Event Name</th>
                <th>Place</th>
                <th>Dates (Sort is broken)</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.AttendedEvents)
            {


                <tr>
                    <td class="col-xs-6">
                        @Html.ActionLink(item.Name, "Event",
                                        "Events", new { id = item.Id },
                                        new { style = "color:black;" })
                    </td>


                    <td class="col-xs-3">
                        @item.Place
                    </td>
                    <td class="col-xs-3">
                        @item.StartDate.ToString("dd.MM.yyyy")@*-
                        @item.EndDate.ToString("dd.MM.yyyy")*@

                        @*Todo fix sorting dates,possible solution: use datatable moment plugin*@
                    </td>
                </tr>

            }
        </tbody>
    </table>
</div>

<script src="~/Scripts/jquery-3.1.0.min.js" type="text/javascript"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/plug-ins/1.10.12/sorting/datetime-moment.js"></script>


<script type="text/javascript" charset="utf8">
    $(document).ready(function () {
        $.fn.dataTable.moment('dd.MM.yyyy ');
        $('#eventstable').dataTable({
            "pageLength": 25,
        });
    });

</script>

